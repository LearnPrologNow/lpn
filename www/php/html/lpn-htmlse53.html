
<!--l. 315--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse52"> prev 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse52"> prev-tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlch11"> tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=# "> up 
</a> ] 
</p> 
</div> 
<h3 class="sectionHead"> 
<span class="titlemark"> 12.2 
</span> 
<a id="x77-11400012.2"> 
</a> Writing to Files 
</h3> 
<!--l. 317--> 
<p class="noindent"> Many applications require that output be written to a file rather than to the screen. In this section we will explain how to do this in Prolog. 
</p> 
<!--l. 321--> 
<p class="indent"> In order to write to a file we have to create one (or open an existing one) and associate a stream with it. You can think of streams as connections to files. In Prolog, streams are blessed with names in a rather user-unfriendly format, such as 
<span class="verb"> 
<span class="cmtt-10"> &#8217;\$stream&#8217;(183368) 
</span> 
</span> . Luckily, you never have to bother about the exact names of streams &#8212; although Prolog assigns these names internally, you can use Prolog&#8217;s unification to match the name to a variable and make use of the variable rather than the name of the stream itself. 
</p> 
<!--l. 331--> 
<p class="indent"> Say you want to print the string &#8217;Hogwarts&#8217; to the file 
<span class="verb"> 
<span class="cmtt-10"> hogwarts.txt 
</span> 
</span> . This is done as follows: 
<a id="dx77-114001"> 
</a> 
<a id="dx77-114002"> 
</a> 
<a id="dx77-114003"> 
</a> 
<a id="dx77-114004"> 
</a> 
</p> 
<!--l. 338--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb568"> 
<a id="x77-114006r1"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;... 
</span> 
<br class="fancyvrb" /> 
<a id="x77-114008r2"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;open(&#8217;hogwarts.txt&#8217;,write,Stream), 
</span> 
<br class="fancyvrb" /> 
<a id="x77-114010r3"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;write(Stream,&#8217;Hogwarts&#8217;), 
</span> 
<span class="cmtt-10"> &#x00A0;nl(Stream), 
</span> 
<br class="fancyvrb" /> 
<a id="x77-114012r4"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;close(Stream), 
</span> 
<br class="fancyvrb" /> 
<a id="x77-114014r5"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;... 
</span> 
</div> 
<!--l. 346--> 
<p class="indent"> What&#8217;s happening here? Well, first the built-in predicate 
<span class="verb"> 
<span class="cmtt-10"> open/3 
</span> 
</span> is used to create the file 
<span class="verb"> 
<span class="cmtt-10"> hogwarts.txt 
</span> 
</span> . The second argument of 
<span class="verb"> 
<span class="cmtt-10"> open/3 
</span> 
</span> indicates that we want to open a new file (overwriting any existing file with the same name). The third argument of 
<span class="verb"> 
<span class="cmtt-10"> open/3 
</span> 
</span> returns the name of the stream. Secondly, we write &#8217;Hogwarts&#8217; on the stream and issue a newline command as well. After this we are ready, and close the stream, using the built-in 
<span class="verb"> 
<span class="cmtt-10"> close/1 
</span> 
</span> . 
</p> 
<!--l. 355--> 
<p class="indent"> And that&#8217;s more or less all there is to it. As promised, we were not interested in the name of the stream &#8212; we used the variable 
<span class="verb"> 
<span class="cmtt-10"> Stream 
</span> 
</span> to pass it around. Also note that the 
<span class="verb"> 
<span class="cmtt-10"> write/2 
</span> 
</span> predicate we used here is basically a more general form of the 
<span class="verb"> 
<span class="cmtt-10"> write/1 
</span> 
</span> predicates we used in Chapter&#x00A0; 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlch9"> 9 
<!--tex4ht:ref: CHAPTER9 --> 
</a> for writing to the screen. 
</p> 
<!--l. 361--> 
<p class="indent"> What if you don&#8217;t want to overwrite an existing file but append to an existing one? This is done by choosing a different mode when opening the file: instead of 
<span class="verb"> 
<span class="cmtt-10"> write 
</span> 
</span> , use 
<span class="verb"> 
<span class="cmtt-10"> append 
</span> 
</span> as value for the second argument of 
<span class="verb"> 
<span class="cmtt-10"> open/3 
</span> 
</span> . If a file of the given name doesn&#8217;t exist, it will be created. 
</p> 
<!--l. 372--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse52"> prev 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse52"> prev-tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse53"> front 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=# "> up 
</a> ] 
</p> 
</div> 
<!--l. 372--> 
<p class="indent"> 
<a id="taillpn-htmlse53"> 
</a> 
</p> 