
<!--l. 786--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse16"> prev 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse16"> prev-tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlch4"> tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse17"> up 
</a> ] 
</p> 
</div> 
<h3 class="sectionHead"> 
<span class="titlemark"> 4.5 
</span> 
<a id="x31-440004.5"> 
</a> Practical Session 
</h3> 
<!--l. 790--> 
<p class="noindent"> The purpose of Practical Session 4 is to help you get familiar with the idea of recursing down lists. We first suggest some traces for you to carry out, and then some programming exercises. 
</p> 
<!--l. 794--> 
<p class="indent"> First, systematically carry out a number of traces on 
<span class="verb"> 
<span class="cmtt-10"> a2b/2 
</span> 
</span> to make sure you fully understand how it works. In particular: 
</p> 
<!--l. 798--> 
<p class="indent"> 
</p> 
<ol class="enumerate1"> 
<li class="enumerate" id="x31-44002x1"> Trace some examples, not involving variables, that succeed. For example, trace the query 
<span class="verb"> 
<span class="cmtt-10"> a2b([a,a,a,a],[b,b,b,b]) 
</span> 
</span> and relate the output to the discussion in the text. 
</li> 
<li class="enumerate" id="x31-44004x2"> Trace some simple examples that fail. Try examples involving lists of different lengths (such as 
<span class="verb"> 
<span class="cmtt-10"> a2b([a,a,a,a],[b,b,b]) 
</span> 
</span> ) and examples involving symbols other than 
<span class="verb"> 
<span class="cmtt-10"> a 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> b 
</span> 
</span> (such as 
<span class="verb"> 
<span class="cmtt-10"> a2b([a,c,a,a],[b,b,5,4]) 
</span> 
</span> ). 
</li> 
<li class="enumerate" id="x31-44006x3"> Trace some examples involving variables. For example, try tracing 
<span class="verb"> 
<span class="cmtt-10"> a2b([a,a,a,a],X) 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> a2b(X,[b,b,b,b]) 
</span> 
</span> . 
</li> 
<li class="enumerate" id="x31-44008x4"> Make sure you understand what happens when both arguments in the query are variables. For example, carry out a trace on the query 
<span class="verb"> 
<span class="cmtt-10"> a2b(X,Y) 
</span> 
</span> . 
</li> 
<li class="enumerate" id="x31-44010x5"> Carry out a series of similar traces involving 
<span class="verb"> 
<span class="cmtt-10"> member/2 
</span> 
</span> . That is, carry out traces involving simple queries that succeed (such as 
<span class="verb"> 
<span class="cmtt-10"> member(a,[1,2,a,b]) 
</span> 
</span> ), simple queries that fail (such as 
<span class="verb"> 
<span class="cmtt-10"> member(z,[1,2,a,b]) 
</span> 
</span> ), and queries involving variables (such as 
<span class="verb"> 
<span class="cmtt-10"> member(X,[1,2,a,b]) 
</span> 
</span> ). In all cases, make sure that you understand why the recursion halts. 
</li> 
</ol> 
<!--l. 821--> 
<p class="indent"> Having done this, try the following. 
</p> 
<!--l. 823--> 
<p class="indent"> 
</p> 
<ol class="enumerate1"> 
<li class="enumerate" id="x31-44012x1"> Write a 3-place predicate 
<span class="verb"> 
<span class="cmtt-10"> combine1 
</span> 
</span> which takes three lists as arguments and combines the elements of the first two lists into the third as follows: 
<div class="fancyvrb" id="fancyvrb227"> 
<a id="x31-44014r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;combine1([a,b,c],[1,2,3],X). 
</span> 
<br class="fancyvrb" /> 
<a id="x31-44016r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x31-44018r3"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;[a,1,b,2,c,3] 
</span> 
<br class="fancyvrb" /> 
<a id="x31-44020r4"> 
</a> 
<br class="fancyvrb" /> 
<a id="x31-44022r5"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;combine1([f,b,yip,yup],[glu,gla,gli,glo],Result). 
</span> 
<br class="fancyvrb" /> 
<a id="x31-44024r6"> 
</a> 
<br class="fancyvrb" /> 
<a id="x31-44026r7"> 
</a> 
<span class="cmtt-10"> Result 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;[f,glu,b,gla,yip,gli,yup,glo] 
</span> 
</div> 
</li> 
<li class="enumerate" id="x31-44028x2"> Now write a 3-place predicate 
<span class="verb"> 
<span class="cmtt-10"> combine2 
</span> 
</span> which takes three lists as arguments and combines the elements of the first two lists into the third as follows: 
<div class="fancyvrb" id="fancyvrb228"> 
<a id="x31-44030r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;combine2([a,b,c],[1,2,3],X). 
</span> 
<br class="fancyvrb" /> 
<a id="x31-44032r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x31-44034r3"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;[[a,1],[b,2],[c,3]] 
</span> 
<br class="fancyvrb" /> 
<a id="x31-44036r4"> 
</a> 
<br class="fancyvrb" /> 
<a id="x31-44038r5"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;combine2([f,b,yip,yup],[glu,gla,gli,glo],Result). 
</span> 
<br class="fancyvrb" /> 
<a id="x31-44040r6"> 
</a> 
<br class="fancyvrb" /> 
<a id="x31-44042r7"> 
</a> 
<span class="cmtt-10"> Result 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;[[f,glu],[b,gla],[yip,gli],[yup,glo]] 
</span> 
</div> 
</li> 
<li class="enumerate" id="x31-44044x3"> Finally, write a 3-place predicate 
<span class="verb"> 
<span class="cmtt-10"> combine3 
</span> 
</span> which takes three lists as arguments and combines the elements of the first two lists into the third as follows: 
<div class="fancyvrb" id="fancyvrb229"> 
<a id="x31-44046r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;combine3([a,b,c],[1,2,3],X). 
</span> 
<br class="fancyvrb" /> 
<a id="x31-44048r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x31-44050r3"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;[j(a,1),j(b,2),j(c,3)] 
</span> 
<br class="fancyvrb" /> 
<a id="x31-44052r4"> 
</a> 
<br class="fancyvrb" /> 
<a id="x31-44054r5"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;combine3([f,b,yip,yup],[glu,gla,gli,glo],R). 
</span> 
<br class="fancyvrb" /> 
<a id="x31-44056r6"> 
</a> 
<br class="fancyvrb" /> 
<a id="x31-44058r7"> 
</a> 
<span class="cmtt-10"> R 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;[j(f,glu),j(b,gla),j(yip,gli),j(yup,glo)] 
</span> 
</div> 
</li> 
</ol> 
<!--l. 865--> 
<p class="indent"> All three programs are pretty much the same as 
<span class="verb"> 
<span class="cmtt-10"> a2b/2 
</span> 
</span> (though they manipulate three lists, not two). That is, all three can be written by recursing down the lists, doing something to the heads, and then recursively doing the same thing to the tails. Indeed, once you have written 
<span class="verb"> 
<span class="cmtt-10"> combine1 
</span> 
</span> , you just need to change what you do to the heads to get 
<span class="verb"> 
<span class="cmtt-10"> combine2 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> combine3 
</span> 
</span> . 
</p> 
<!--l. 2--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse16"> prev 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse16"> prev-tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse17"> front 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse17"> up 
</a> ] 
</p> 
</div> 
<!--l. 2--> 
<p class="indent"> 
<a id="taillpn-htmlse17"> 
</a> 
</p> 