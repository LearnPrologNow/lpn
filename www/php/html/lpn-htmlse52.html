
<!--l. 21--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse47"> tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=# "> up 
</a> ] 
</p> 
</div> 
<h3 class="sectionHead"> 
<span class="titlemark"> 12.1 
</span> 
<a id="x76-11000012.1"> 
</a> Splitting Programs over Files 
</h3> 
<!--l. 23--> 
<p class="noindent"> By this stage you have written lots of programs that use the predicates 
<span class="verb"> 
<span class="cmtt-10"> append/3 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> member/2 
</span> 
</span> . What you probably did each time you needed one of them was to go back to the definition and copy it over to the file where you wanted to use it. And maybe, after having done that a few times, you started thinking that it was quite annoying having to copy the same predicate definitions over and over again &#8212; how pleasant it would be if you could define them somewhere once and for all and then simply access them whenever you needed them. Well, that sounds like a pretty sensible thing to ask for and, of course, Prolog offers you ways of doing it. 
</p> 
<!--l. 36--> 
<p class="noindent"> 
</p> 
<h4 class="likesubsectionHead"> 
<a id="x76-11100012.1"> 
</a> Reading in programs 
</h4> 
<!--l. 38--> 
<p class="noindent"> In fact, you already know a way of telling Prolog to read in predicate definitions that are stored in a file, namely the 
</p> 
<div class="fancyvrb" id="fancyvrb553"> 
<a id="x76-111002r1"> 
</a> 
<span class="cmtt-10"> [FileName1] 
</span> 
</div> 
<!--l. 43--> 
<p class="noindent"> command. You have been using queries of this form all along to tell Prolog to consult files. But there are two more useful things you should know about it. First, you can consult many files at once by saying 
</p> 
<div class="fancyvrb" id="fancyvrb554"> 
<a id="x76-111004r1"> 
</a> 
<span class="cmtt-10"> [FileName1,FileName2,...,FileNameN] 
</span> 
</div> 
<!--l. 50--> 
<p class="noindent"> instead. Second, and more importantly, file consultation does 
<span class="cmti-10"> not 
</span> have to be performed interactively. If you put 
</p> 
<div class="fancyvrb" id="fancyvrb555"> 
<a id="x76-111006r1"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;[FileName1,FileName2,...,FileNameN]. 
</span> 
</div> 
<!--l. 56--> 
<p class="noindent"> at the top of your program file (say 
<span class="verb"> 
<span class="cmtt-10"> main.pl 
</span> 
</span> ) you are telling Prolog to first consult the listed files before going on to read in the rest of your program. 
</p> 
<!--l. 61--> 
<p class="indent"> This feature gives us a simple way of re-using definitions. For example, suppose that you keep all the predicate definitions for basic list processing (such as 
<span class="verb"> 
<span class="cmtt-10"> append/3 
</span> 
</span> , 
<span class="verb"> 
<span class="cmtt-10"> member/2 
</span> 
</span> , 
<span class="verb"> 
<span class="cmtt-10"> reverse/2 
</span> 
</span> , and so on) in a file called 
<span class="verb"> 
<span class="cmtt-10"> listPredicates.pl 
</span> 
</span> . If you want to use them, simply put 
</p> 
<div class="fancyvrb" id="fancyvrb556"> 
<a id="x76-111008r1"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;[listPredicates]. 
</span> 
</div> 
<!--l. 69--> 
<p class="noindent"> at the top of the file containing the program that needs them. Prolog will consult 
<span class="verb"> 
<span class="cmtt-10"> listPredicates 
</span> 
</span> when reading in that file, and all the predicate definitions in 
<span class="verb"> 
<span class="cmtt-10"> listPredicates 
</span> 
</span> become available. 
</p> 
<!--l. 74--> 
<p class="indent"> There&#8217;s one practical point you should be aware of. When Prolog loads files, it doesn&#8217;t normally check whether the files really need to be consulted. If the predicate definitions provided by one of the files are already in the database because that file was consulted previously, Prolog will still consult it again, although it doesn&#8217;t need to. This can be annoying if you are consulting very large files. 
</p> 
<!--l. 82--> 
<p class="indent"> The built-in predicate 
<span class="verb"> 
<span class="cmtt-10"> ensure_loaded/1 
</span> 
</span> behaves more intelligently in this respect. It works as follows. On encountering the following directive 
<a id="dx76-111009"> 
</a> 
</p> 
<div class="fancyvrb" id="fancyvrb557"> 
<a id="x76-111011r1"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;ensure_loaded([listPredicates]). 
</span> 
</div> 
<!--l. 89--> 
<p class="noindent"> Prolog checks whether the file 
<span class="verb"> 
<span class="cmtt-10"> listPredicates.pl 
</span> 
</span> has already been loaded and only loads it again if it has changed since the last loading. 
</p> 
<!--l. 96--> 
<p class="noindent"> 
</p> 
<h4 class="likesubsectionHead"> 
<a id="x76-11200012.1"> 
</a> Modules 
</h4> 
<!--l. 98--> 
<p class="noindent"> Now imagine that you are writing a program that manages a movie database. You have designed a predicate 
<span class="verb"> 
<span class="cmtt-10"> printActors 
</span> 
</span> which displays all actors starring in a particular film, and a predicate 
<span class="verb"> 
<span class="cmtt-10"> printMovies 
</span> 
</span> which displays all movies directed by a particular filmmaker. Both definitions are stored in different files, namely 
<span class="verb"> 
<span class="cmtt-10"> printActors.pl 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> printMovies.pl 
</span> 
</span> , and both use an auxiliary predicate 
<span class="verb"> 
<span class="cmtt-10"> displayList/1 
</span> 
</span> . Here&#8217;s the first file: 
</p> 
<!--l. 106--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb558"> 
<a id="x76-112002r1"> 
</a> 
<span class="cmtt-10"> % 
</span> 
<span class="cmtt-10"> &#x00A0;This 
</span> 
<span class="cmtt-10"> &#x00A0;is 
</span> 
<span class="cmtt-10"> &#x00A0;the 
</span> 
<span class="cmtt-10"> &#x00A0;file: 
</span> 
<span class="cmtt-10"> &#x00A0;printActors.pl 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112004r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112006r3"> 
</a> 
<span class="cmtt-10"> printActors(Film):- 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112008r4"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;setof(Actor,starring(Actor,Film),List), 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112010r5"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;displayList(List). 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112012r6"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112014r7"> 
</a> 
<span class="cmtt-10"> displayList([]):- 
</span> 
<span class="cmtt-10"> &#x00A0;nl. 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112016r8"> 
</a> 
<span class="cmtt-10"> displayList([X|L]):- 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112018r9"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;write(X), 
</span> 
<span class="cmtt-10"> &#x00A0;tab(1), 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112020r10"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;displayList(L). 
</span> 
</div> 
<!--l. 118--> 
<p class="noindent"> And here&#8217;s the second: 
</p> 
<div class="fancyvrb" id="fancyvrb559"> 
<a id="x76-112022r1"> 
</a> 
<span class="cmtt-10"> % 
</span> 
<span class="cmtt-10"> &#x00A0;This 
</span> 
<span class="cmtt-10"> &#x00A0;is 
</span> 
<span class="cmtt-10"> &#x00A0;the 
</span> 
<span class="cmtt-10"> &#x00A0;file: 
</span> 
<span class="cmtt-10"> &#x00A0;printMovies.pl 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112024r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112026r3"> 
</a> 
<span class="cmtt-10"> printMovies(Director):- 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112028r4"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;setof(Film,directed(Director,Film),List), 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112030r5"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;displayList(List). 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112032r6"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112034r7"> 
</a> 
<span class="cmtt-10"> displayList([]):- 
</span> 
<span class="cmtt-10"> &#x00A0;nl. 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112036r8"> 
</a> 
<span class="cmtt-10"> displayList([X|L]):- 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112038r9"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;write(X), 
</span> 
<span class="cmtt-10"> &#x00A0;nl, 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112040r10"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;displayList(L). 
</span> 
</div> 
<!--l. 132--> 
<p class="indent"> Note that 
<span class="verb"> 
<span class="cmtt-10"> displayList/1 
</span> 
</span> has different definitions in the two files: the actors are printed in a row (using 
<span class="verb"> 
<span class="cmtt-10"> tab/1 
</span> 
</span> ) 
<a id="dx76-112041"> 
</a> , and the films are printed in a column (using 
<span class="verb"> 
<span class="cmtt-10"> nl/0 
</span> 
</span> ) 
<a id="dx76-112042"> 
</a> . Will this lead to conflicts in Prolog? Let&#8217;s see. We&#8217;ll load both programs by placing the statements 
</p> 
<!--l. 138--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb560"> 
<a id="x76-112044r1"> 
</a> 
<span class="cmtt-10"> % 
</span> 
<span class="cmtt-10"> &#x00A0;This 
</span> 
<span class="cmtt-10"> &#x00A0;is 
</span> 
<span class="cmtt-10"> &#x00A0;the 
</span> 
<span class="cmtt-10"> &#x00A0;file: 
</span> 
<span class="cmtt-10"> &#x00A0;main.pl 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112046r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112048r3"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;[printActors]. 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112050r4"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;[printMovies]. 
</span> 
</div> 
<!--l. 144--> 
<p class="noindent"> at the top of the main file. Consulting the main file will evoke a message that looks something like the following: 
</p> 
<!--l. 148--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb561"> 
<a id="x76-112052r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;[main]. 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112054r2"> 
</a> 
<span class="cmtt-10"> {consulting 
</span> 
<span class="cmtt-10"> &#x00A0;main.pl...} 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112056r3"> 
</a> 
<span class="cmtt-10"> {consulting 
</span> 
<span class="cmtt-10"> &#x00A0;printActors.pl...} 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112058r4"> 
</a> 
<span class="cmtt-10"> {printActors.pl 
</span> 
<span class="cmtt-10"> &#x00A0;consulted, 
</span> 
<span class="cmtt-10"> &#x00A0;10 
</span> 
<span class="cmtt-10"> &#x00A0;msec 
</span> 
<span class="cmtt-10"> &#x00A0;296 
</span> 
<span class="cmtt-10"> &#x00A0;bytes} 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112060r5"> 
</a> 
<span class="cmtt-10"> {consulting 
</span> 
<span class="cmtt-10"> &#x00A0;printMovies.pl...} 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112062r6"> 
</a> 
<span class="cmtt-10"> The 
</span> 
<span class="cmtt-10"> &#x00A0;procedure 
</span> 
<span class="cmtt-10"> &#x00A0;displayList/1 
</span> 
<span class="cmtt-10"> &#x00A0;is 
</span> 
<span class="cmtt-10"> &#x00A0;being 
</span> 
<span class="cmtt-10"> &#x00A0;redefined. 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112064r7"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;Old 
</span> 
<span class="cmtt-10"> &#x00A0;file: 
</span> 
<span class="cmtt-10"> &#x00A0;printActors.pl 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112066r8"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;New 
</span> 
<span class="cmtt-10"> &#x00A0;file: 
</span> 
<span class="cmtt-10"> &#x00A0;printMovies.pl 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112068r9"> 
</a> 
<span class="cmtt-10"> Do 
</span> 
<span class="cmtt-10"> &#x00A0;you 
</span> 
<span class="cmtt-10"> &#x00A0;really 
</span> 
<span class="cmtt-10"> &#x00A0;want 
</span> 
<span class="cmtt-10"> &#x00A0;to 
</span> 
<span class="cmtt-10"> &#x00A0;redefine 
</span> 
<span class="cmtt-10"> &#x00A0;it? 
</span> 
<span class="cmtt-10"> &#x00A0;(y, 
</span> 
<span class="cmtt-10"> &#x00A0;n, 
</span> 
<span class="cmtt-10"> &#x00A0;p, 
</span> 
<span class="cmtt-10"> &#x00A0;or 
</span> 
<span class="cmtt-10"> &#x00A0;?) 
</span> 
</div> 
<!--l. 160--> 
<p class="indent"> What has happened? Well, as both files 
<span class="verb"> 
<span class="cmtt-10"> printActors.pl 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> printMovies.pl 
</span> 
</span> define a predicate called 
<span class="verb"> 
<span class="cmtt-10"> displayList/1 
</span> 
</span> , Prolog needs to choose one of the two definitions (it can&#8217;t have two different definitions for one predicate in its knowledge base). 
</p> 
<!--l. 165--> 
<p class="indent"> What to do? Well, perhaps in some of these situations you really do want to redefine a predicate. But here you don&#8217;t &#8212; you want two different definitions because you want movies and actors to be displayed differently. One way of dealing with this is to give a different name to one of the two predicates. But let&#8217;s face it, this is clumsy. You want to think of each file as a conceptually self-contained entity; you don&#8217;t want to waste time and energy thinking about how you named predicates in some other file. And the most natural way of achieving the desired conceptual independence is to use Prolog&#8217;s module system. 
</p> 
<!--l. 176--> 
<p class="indent"> Modules essentially allow you to hide predicate definitions. You are allowed to decide which predicates should be public (that is, callable from parts of the program that are stored in other files) and which predicates should be private (that is, callable only from within the module itself). Thus you will not be able to call private predicates from outside the module in which they are defined, but there will be no conflicts if two modules internally define the same predicate. In our example, 
<span class="verb"> 
<span class="cmtt-10"> displayList/1 
</span> 
</span> is a good candidate for becoming a private predicate; it plays a simple auxiliary role in both 
<span class="verb"> 
<span class="cmtt-10"> printActors/1 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> printMovies/1, 
</span> 
</span> and the details of the role it plays for one predicate are not relevant to the other. 
</p> 
<!--l. 189--> 
<p class="indent"> You can turn a file into a module by putting a module declaration at the top. Module declarations are of the form 
<a id="dx76-112069"> 
</a> 
</p> 
<!--l. 192--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb562"> 
<a id="x76-112071r1"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;module(ModuleName, 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112073r2"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;List_of_Predicates_to_be_Exported). 
</span> 
</div> 
<!--l. 196--> 
<p class="noindent"> Such declarations specify the name of the module and the list of public predicates, that is, the list of predicates that you want to export. These will be the only predicates that are accessible from outside the module. 
</p> 
<!--l. 201--> 
<p class="indent"> Let&#8217;s modularise our movie database programs. We only need to include the following line at the top of the first file: 
</p> 
<!--l. 204--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb563"> 
<a id="x76-112075r1"> 
</a> 
<span class="cmtt-10"> % 
</span> 
<span class="cmtt-10"> &#x00A0;This 
</span> 
<span class="cmtt-10"> &#x00A0;is 
</span> 
<span class="cmtt-10"> &#x00A0;the 
</span> 
<span class="cmtt-10"> &#x00A0;file: 
</span> 
<span class="cmtt-10"> &#x00A0;printActors.pl 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112077r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112079r3"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;module(printActors,[printActors/1]). 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112081r4"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112083r5"> 
</a> 
<span class="cmtt-10"> printActors(Film):- 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112085r6"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;setof(Actor,starring(Actor,Film),List), 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112087r7"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;displayList(List). 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112089r8"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112091r9"> 
</a> 
<span class="cmtt-10"> displayList([]):- 
</span> 
<span class="cmtt-10"> &#x00A0;nl. 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112093r10"> 
</a> 
<span class="cmtt-10"> displayList([X|L]):- 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112095r11"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;write(X), 
</span> 
<span class="cmtt-10"> &#x00A0;tab(1), 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112097r12"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;displayList(L). 
</span> 
</div> 
<!--l. 218--> 
<p class="noindent"> Here we have introduced a module called 
<span class="verb"> 
<span class="cmtt-10"> printActors 
</span> 
</span> , with one public predicate 
<span class="verb"> 
<span class="cmtt-10"> printActors/1 
</span> 
</span> . The predicate 
<span class="verb"> 
<span class="cmtt-10"> displayList/1 
</span> 
</span> is only known in the scope of the module 
<span class="verb"> 
<span class="cmtt-10"> printActors 
</span> 
</span> , so its definition won&#8217;t affect any other modules. 
</p> 
<!--l. 224--> 
<p class="indent"> Likewise we can turn the second file into a module: 
</p> 
<!--l. 226--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb564"> 
<a id="x76-112099r1"> 
</a> 
<span class="cmtt-10"> % 
</span> 
<span class="cmtt-10"> &#x00A0;This 
</span> 
<span class="cmtt-10"> &#x00A0;is 
</span> 
<span class="cmtt-10"> &#x00A0;the 
</span> 
<span class="cmtt-10"> &#x00A0;file: 
</span> 
<span class="cmtt-10"> &#x00A0;printMovies.pl 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112101r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112103r3"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;module(printMovies,[printMovies/1]). 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112105r4"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112107r5"> 
</a> 
<span class="cmtt-10"> printMovies(Director):- 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112109r6"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;setof(Film,directed(Director,Film),List), 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112111r7"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;displayList(List). 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112113r8"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112115r9"> 
</a> 
<span class="cmtt-10"> displayList([]):- 
</span> 
<span class="cmtt-10"> &#x00A0;nl. 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112117r10"> 
</a> 
<span class="cmtt-10"> displayList([X|L]):- 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112119r11"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;write(X), 
</span> 
<span class="cmtt-10"> &#x00A0;nl, 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112121r12"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;displayList(L). 
</span> 
</div> 
<!--l. 240--> 
<p class="noindent"> Again, the definition of the 
<span class="verb"> 
<span class="cmtt-10"> displayList/1 
</span> 
</span> is only known in the scope of the module 
<span class="verb"> 
<span class="cmtt-10"> printMovies 
</span> 
</span> , so there won&#8217;t be any clash when loading both modules at the same time. 
</p> 
<!--l. 245--> 
<p class="indent"> Modules can be loaded with the built-in predicates 
<span class="verb"> 
<span class="cmtt-10"> use_module/1 
</span> 
</span> . This will import all predicates that were defined as public by the module. In other words, all public predicates will be 
<a id="dx76-112122"> 
</a> accessible. To do this we need to change the main file as follows: 
</p> 
<!--l. 250--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb565"> 
<a id="x76-112124r1"> 
</a> 
<span class="cmtt-10"> % 
</span> 
<span class="cmtt-10"> &#x00A0;This 
</span> 
<span class="cmtt-10"> &#x00A0;is 
</span> 
<span class="cmtt-10"> &#x00A0;the 
</span> 
<span class="cmtt-10"> &#x00A0;file: 
</span> 
<span class="cmtt-10"> &#x00A0;main.pl 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112126r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112128r3"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;use_module(printActors). 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112130r4"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;use_module(printMovies). 
</span> 
</div> 
<!--l. 257--> 
<p class="indent"> If you don&#8217;t want to use all public predicates of a module, but only some of them, you can use the two-place version of 
<span class="verb"> 
<span class="cmtt-10"> use_module 
</span> 
</span> , which takes a list of predicates that you actually want to import as its 
<a id="dx76-112131"> 
</a> second argument. So, by putting 
</p> 
<!--l. 263--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb566"> 
<a id="x76-112133r1"> 
</a> 
<span class="cmtt-10"> % 
</span> 
<span class="cmtt-10"> &#x00A0;This 
</span> 
<span class="cmtt-10"> &#x00A0;is 
</span> 
<span class="cmtt-10"> &#x00A0;the 
</span> 
<span class="cmtt-10"> &#x00A0;file: 
</span> 
<span class="cmtt-10"> &#x00A0;main.pl 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112135r2"> 
</a> 
<br class="fancyvrb" /> 
<a id="x76-112137r3"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;use_module(printActors,[printActors/1]). 
</span> 
<br class="fancyvrb" /> 
<a id="x76-112139r4"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;use_module(printMovies,[printMovies/1]). 
</span> 
</div> 
<!--l. 269--> 
<p class="noindent"> at the top of the main file, we have explicitly stated that we can use 
<span class="verb"> 
<span class="cmtt-10"> printActors/1 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> printMovies/1 
</span> 
</span> , and nothing else (in this case, of course, the declaration is unnecessary as there are no other public predicates that we could use). Needless to say, you can only import predicates that are actually exported by the relevant module. 
</p> 
<!--l. 277--> 
<p class="noindent"> 
</p> 
<h4 class="likesubsectionHead"> 
<a id="x76-11300012.1"> 
</a> Libraries 
</h4> 
<!--l. 279--> 
<p class="noindent"> Many of the most common predicates are provided predefined, in one way or another, by most Prolog implementations. If you have been using SWI Prolog, for example, you will probably have noticed that predicates like 
<span class="verb"> 
<span class="cmtt-10"> append/3 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> member/2 
</span> 
</span> come as part of the system. That&#8217;s a speciality of SWI, however. Other Prolog implementations, like SICStus for example, don&#8217;t have them built-in, but provide them as part of a library. 
</p> 
<!--l. 287--> 
<p class="indent"> Libraries are modules defining common predicates, and can be loaded using the normal commands for importing modules. When specifying the name of the library that you want to use, you have to tell Prolog that this module is a library, so that Prolog knows where to look for it (namely, in the place where Prolog keeps its libraries, not in the directory where your other code is). For example, putting the directive 
</p> 
<div class="fancyvrb" id="fancyvrb567"> 
<a id="x76-113002r1"> 
</a> 
<span class="cmtt-10"> :- 
</span> 
<span class="cmtt-10"> &#x00A0;use_module(library(lists)). 
</span> 
</div> 
<!--l. 297--> 
<p class="noindent"> at the top of your file tells Prolog to load a library called 
<span class="verb"> 
<span class="cmtt-10"> lists 
</span> 
</span> . In SICStus Prolog, this library contains a set of commonly used list processing predicates. 
</p> 
<!--l. 301--> 
<p class="indent"> Libraries can be very useful and they can save you a lot of work. Moreover, the code in libraries has typically been written by excellent programmers, and is likely to be highly efficient and problem-free. However the way that libraries are organised and the inventory of predicates provided by libraries are by no means standardised across different Prolog implementations. This means that if you want your program to run with different Prolog implementations, it is probably easier and faster to define your own library modules (using the techniques that we saw in the last section) rather than to try to work around the incompatibilities between the library systems of different Prolog implementations. 
</p> 
<!--l. 315--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse52"> front 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=# "> up 
</a> ] 
</p> 
</div> 
<!--l. 315--> 
<p class="indent"> 
<a id="taillpn-htmlse52"> 
</a> 
</p> 