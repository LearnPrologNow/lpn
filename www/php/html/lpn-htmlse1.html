
<!--l. 26--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse5"> next 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=#taillpn-htmlse1"> tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse4"> up 
</a> ] 
</p> 
</div> 
<h3 class="sectionHead"> 
<span class="titlemark"> 1.1 
</span> 
<a id="x11-90001.1"> 
</a> Some Simple Examples 
</h3> 
<!--l. 30--> 
<p class="noindent"> There are only three basic constructs in Prolog: facts, rules, and queries. A collection of facts and rules is called a knowledge base (or a database) and Prolog programming is all about writing knowledge bases. That is, Prolog programs simply 
<span class="cmti-10"> are 
</span> knowledge bases, collections of facts and rules which describe some collection of relationships that we find interesting. 
</p> 
<!--l. 38--> 
<p class="indent"> So how do we 
<span class="cmti-10"> use 
</span> a Prolog program? By posing queries. That is, by asking questions about the information stored in the knowledge base. 
</p> 
<!--l. 42--> 
<p class="indent"> Now this probably sounds rather strange. It&#8217;s certainly not obvious that it has much to do with programming at all. After all, isn&#8217;t programming all about telling a computer what to do? But as we shall see, the Prolog way of programming makes a lot of sense, at least for certain tasks; for example, it is useful in computational linguistics and Artificial Intelligence (AI). But instead of saying more about Prolog in general terms, let&#8217;s jump right in and start writing some simple knowledge bases; this is not just the best way of learning Prolog, it&#8217;s the only way. 
</p> 
<!--l. 54--> 
<p class="noindent"> 
</p> 
<h4 class="likesubsectionHead"> 
<a id="x11-100001.1"> 
</a> Knowledge Base 1 
</h4> 
<!--l. 57--> 
<p class="noindent"> Knowledge Base 1 (KB1) is simply a collection of facts. Facts are used to state things that are 
<span class="cmti-10"> unconditionally 
</span> true of some situation of interest. For example, we can state that Mia, Jody, and Yolanda are women, that Jody plays air guitar, and that a party is taking place, using the following five facts: 
</p> 
<!--l. 63--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb1"> 
<a id="x11-10002r1"> 
</a> 
<span class="cmtt-10"> woman(mia). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-10004r2"> 
</a> 
<span class="cmtt-10"> woman(jody). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-10006r3"> 
</a> 
<span class="cmtt-10"> woman(yolanda). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-10008r4"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(jody). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-10010r5"> 
</a> 
<span class="cmtt-10"> party. 
</span> 
</div> 
<!--l. 72--> 
<p class="indent"> This collection of facts is KB1. It is our first example of a Prolog program. Note that the names 
<span class="verb"> 
<span class="cmtt-10"> mia 
</span> 
</span> , 
<span class="verb"> 
<span class="cmtt-10"> jody 
</span> 
</span> , and 
<span class="verb"> 
<span class="cmtt-10"> yolanda 
</span> 
</span> , the properties 
<span class="verb"> 
<span class="cmtt-10"> woman 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar 
</span> 
</span> , and the proposition 
<span class="verb"> 
<span class="cmtt-10"> party 
</span> 
</span> have been written so that the first letter is in lower-case. This is important; we will see why a little later on. 
</p> 
<!--l. 78--> 
<p class="indent"> How can we use KB1? By posing queries. That is, by asking questions about the information KB1 contains. Here are some examples. We can ask Prolog whether Mia is a woman by posing the query: 
</p> 
<div class="fancyvrb" id="fancyvrb2"> 
<a id="x11-10012r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;woman(mia). 
</span> 
</div> 
<!--l. 84--> 
<p class="noindent"> Prolog will answer 
</p> 
<div class="fancyvrb" id="fancyvrb3"> 
<a id="x11-10014r1"> 
</a> 
<span class="cmtt-10"> yes 
</span> 
</div> 
<!--l. 88--> 
<p class="noindent"> for the obvious reason that this is one of the facts explicitly recorded in KB1. Incidentally, 
<span class="cmti-10"> we 
</span> don&#8217;t type in the 
<span class="verb"> 
<span class="cmtt-10"> ?- 
</span> 
</span> . This symbol (or something like it, depending on the implementation of Prolog you are using) is the prompt symbol that the Prolog interpreter displays when it is waiting to evaluate a query. We just type in the actual query (for example 
<span class="verb"> 
<span class="cmtt-10"> woman(mia) 
</span> 
</span> ) followed by 
<span class="verb"> 
<span class="cmtt-10"> . 
</span> 
</span> (a full stop). The full stop is important. If you don&#8217;t type it, Prolog won&#8217;t start working on the query. 
</p> 
<!--l. 97--> 
<p class="indent"> Similarly, we can ask whether Jody plays air guitar by posing the following query: 
</p> 
<!--l. 100--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb4"> 
<a id="x11-10016r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;playsAirGuitar(jody). 
</span> 
</div> 
<!--l. 103--> 
<p class="noindent"> Prolog will again answer yes, because this is one of the facts in KB1. However, suppose we ask whether Mia plays air guitar: 
</p> 
<div class="fancyvrb" id="fancyvrb5"> 
<a id="x11-10018r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;playsAirGuitar(mia). 
</span> 
</div> 
<!--l. 108--> 
<p class="noindent"> We will get the answer 
</p> 
<div class="fancyvrb" id="fancyvrb6"> 
<a id="x11-10020r1"> 
</a> 
<span class="cmtt-10"> no 
</span> 
</div> 
<!--l. 112--> 
<p class="noindent"> Why? Well, first of all, this is not a fact in KB1. Moreover, KB1 is extremely simple, and contains no other information (such as the 
<span class="cmti-10"> rules 
</span> we will learn about shortly) which might help Prolog try to infer (that is, deduce) whether Mia plays air guitar. So Prolog correctly concludes that 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar(mia) 
</span> 
</span> does 
<span class="cmti-10"> not 
</span> follow from KB1. 
</p> 
<!--l. 119--> 
<p class="indent"> Here are two important examples. First, suppose we pose the query: 
</p> 
<div class="fancyvrb" id="fancyvrb7"> 
<a id="x11-10022r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;playsAirGuitar(vincent). 
</span> 
</div> 
<!--l. 123--> 
<p class="noindent"> Again Prolog answers no. Why? Well, this query is about a person (Vincent) that it has no information about, so it (correctly) concludes that 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar(vincent) 
</span> 
</span> cannot be deduced from the information in KB1. 
</p> 
<!--l. 127--> 
<p class="indent"> Similarly, suppose we pose the query: 
</p> 
<div class="fancyvrb" id="fancyvrb8"> 
<a id="x11-10024r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;tatooed(jody). 
</span> 
</div> 
<!--l. 131--> 
<p class="noindent"> Again Prolog will answer no. Why? Well, this query is about a property (being tatooed) that it has no information about, so once again it (correctly) concludes that the query cannot be deduced from the information in KB1. (Actually, some Prolog implementations will respond to this query with an error message, telling you that the predicate or procedure 
<span class="verb"> 
<span class="cmtt-10"> tatooed 
</span> 
</span> is not defined; we will soon introduce the notion of predicates.) 
</p> 
<!--l. 139--> 
<p class="indent"> Needless to say, we can also make queries concerning propositions. For example, if we pose the query 
</p> 
<div class="fancyvrb" id="fancyvrb9"> 
<a id="x11-10026r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;party. 
</span> 
</div> 
<!--l. 144--> 
<p class="noindent"> then Prolog will respond 
</p> 
<div class="fancyvrb" id="fancyvrb10"> 
<a id="x11-10028r1"> 
</a> 
<span class="cmtt-10"> yes 
</span> 
</div> 
<!--l. 148--> 
<p class="noindent"> and if we pose the query 
</p> 
<div class="fancyvrb" id="fancyvrb11"> 
<a id="x11-10030r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;rockConcert. 
</span> 
</div> 
<!--l. 152--> 
<p class="noindent"> then Prolog will respond 
</p> 
<div class="fancyvrb" id="fancyvrb12"> 
<a id="x11-10032r1"> 
</a> 
<span class="cmtt-10"> no 
</span> 
</div> 
<!--l. 156--> 
<p class="noindent"> exactly as we would expect. 
</p> 
<!--l. 158--> 
<p class="noindent"> 
</p> 
<h4 class="likesubsectionHead"> 
<a id="x11-110001.1"> 
</a> Knowledge Base 2 
</h4> 
<!--l. 160--> 
<p class="noindent"> Here is KB2, our second knowledge base: 
</p> 
<!--l. 162--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb13"> 
<a id="x11-11002r1"> 
</a> 
<span class="cmtt-10"> happy(yolanda). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-11004r2"> 
</a> 
<span class="cmtt-10"> listens2Music(mia). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-11006r3"> 
</a> 
<span class="cmtt-10"> listens2Music(yolanda):- 
</span> 
<span class="cmtt-10"> &#x00A0;happy(yolanda). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-11008r4"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(mia):- 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(mia). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-11010r5"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(yolanda):- 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(yolanda). 
</span> 
</div> 
<!--l. 169--> 
<p class="noindent"> There are two facts in KB2, 
<span class="verb"> 
<span class="cmtt-10"> listens2Music(mia) 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> happy(yolanda) 
</span> 
</span> . The last three items it contains are rules. 
</p> 
<!--l. 172--> 
<p class="indent"> Rules state information that is 
<span class="cmti-10"> conditionally 
</span> true of the situation of interest. For example, the first rule says that Yolanda listens to music 
<span class="cmti-10"> if 
</span> she is happy, and the last rule says that Yolanda plays air guitar 
<span class="cmti-10"> if 
</span> she listens to music. More generally, the 
<span class="verb"> 
<span class="cmtt-10"> :- 
</span> 
</span> should be read as &#8220;if&#8221;, or &#8220;is implied by&#8221;. The part on the left hand side of the 
<span class="verb"> 
<span class="cmtt-10"> :- 
</span> 
</span> is called the head of the rule, the part on the right hand side is called the body. So in general rules say: 
<span class="cmti-10"> if 
</span> the body of the rule is true, 
<span class="cmti-10"> then 
</span> the head of the rule is true too. And now for the key point: 
</p> 
<div class="quote"> 
<!--l. 183--> 
<p class="noindent"> 
<span class="cmti-10"> If a knowledge base contains a rule 
</span> 
<span class="verb"> 
<span class="cmtt-10"> head 
</span> 
<span class="cmtt-10"> &#x00A0;:- 
</span> 
<span class="cmtt-10"> &#x00A0;body, 
</span> 
</span> 
<span class="cmti-10"> and Prolog knows 
</span> 
<span class="cmti-10"> that 
</span> 
<span class="verb"> 
<span class="cmtt-10"> body 
</span> 
</span> 
<span class="cmti-10"> follows from the information in the knowledge base, then 
</span> 
<span class="cmti-10"> Prolog can infer 
</span> 
<span class="verb"> 
<span class="cmtt-10"> head. 
</span> 
</span> 
</p> 
</div> 
<!--l. 188--> 
<p class="noindent"> This fundamental deduction step is called modus ponens. 
</p> 
<!--l. 191--> 
<p class="indent"> Let&#8217;s consider an example. Suppose we ask whether Mia plays air guitar: 
</p> 
<div class="fancyvrb" id="fancyvrb14"> 
<a id="x11-11012r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;playsAirGuitar(mia). 
</span> 
</div> 
<!--l. 196--> 
<p class="noindent"> Prolog will respond yes. Why? Well, although it can&#8217;t find 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar(mia) 
</span> 
</span> as a fact explicitly recorded in KB2, it can find the rule 
</p> 
<div class="fancyvrb" id="fancyvrb15"> 
<a id="x11-11014r1"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(mia):- 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(mia). 
</span> 
</div> 
<!--l. 202--> 
<p class="noindent"> Moreover, KB2 also contains the fact 
<span class="verb"> 
<span class="cmtt-10"> listens2Music(mia) 
</span> 
</span> . Hence Prolog can use the rule of modus ponens to deduce that 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar(mia) 
</span> 
</span> . 
</p> 
<!--l. 206--> 
<p class="indent"> Our next example shows that Prolog can chain together uses of modus ponens. Suppose we ask: 
</p> 
<div class="fancyvrb" id="fancyvrb16"> 
<a id="x11-11016r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;playsAirGuitar(yolanda). 
</span> 
</div> 
<!--l. 211--> 
<p class="noindent"> Prolog would respond yes. Why? Well, first of all, by using the fact 
<span class="verb"> 
<span class="cmtt-10"> happy(yolanda) 
</span> 
</span> and the rule 
</p> 
<div class="fancyvrb" id="fancyvrb17"> 
<a id="x11-11018r1"> 
</a> 
<span class="cmtt-10"> listens2Music(yolanda):- 
</span> 
<span class="cmtt-10"> &#x00A0;happy(yolanda). 
</span> 
</div> 
<!--l. 216--> 
<p class="noindent"> Prolog can deduce the new fact 
<span class="verb"> 
<span class="cmtt-10"> listens2Music(yolanda) 
</span> 
</span> . This new fact is not explicitly recorded in the knowledge base &#8212; it is only 
<span class="cmti-10"> implicitly 
</span> present (it is 
<span class="cmti-10"> inferred 
</span> knowledge). Nonetheless, Prolog can then use it just like an explicitly recorded fact. In particular, from this inferred fact and the rule 
</p> 
<div class="fancyvrb" id="fancyvrb18"> 
<a id="x11-11020r1"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(yolanda):- 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(yolanda). 
</span> 
</div> 
<!--l. 224--> 
<p class="noindent"> it can deduce 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar(yolanda) 
</span> 
</span> , which is what we asked it. Summing up: any fact produced by an application of modus ponens can be used as input to further rules. By chaining together applications of modus ponens in this way, Prolog is able to retrieve information that logically follows from the rules and facts recorded in the knowledge base. 
</p> 
<!--l. 230--> 
<p class="indent"> The facts and rules contained in a knowledge base are called clauses. Thus KB2 contains five clauses, namely three rules and two facts. Another way of looking at KB2 is to say that it consists of three predicates (or procedures). The three predicates are: 
</p> 
<div class="fancyvrb" id="fancyvrb19"> 
<a id="x11-11022r1"> 
</a> 
<span class="cmtt-10"> listens2Music 
</span> 
<br class="fancyvrb" /> 
<a id="x11-11024r2"> 
</a> 
<span class="cmtt-10"> happy 
</span> 
<br class="fancyvrb" /> 
<a id="x11-11026r3"> 
</a> 
<span class="cmtt-10"> playsAirGuitar 
</span> 
</div> 
<!--l. 240--> 
<p class="noindent"> The 
<span class="verb"> 
<span class="cmtt-10"> happy 
</span> 
</span> predicate is defined using a single clause (a fact). The 
<span class="verb"> 
<span class="cmtt-10"> listens2Music 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar 
</span> 
</span> predicates are each defined using two clauses (in one case, two rules, and in the other case, one rule and one fact). It is a good idea to think about Prolog programs in terms of the predicates they contain. In essence, the predicates are the concepts we find important, and the various clauses we write down concerning them are our attempts to pin down what they mean and how they are inter-related. 
</p> 
<!--l. 249--> 
<p class="indent"> One final remark. We can view a fact as a rule with an empty body. That is, we can think of facts as conditionals that do not have any antecedent conditions, or degenerate rules. 
</p> 
<!--l. 255--> 
<p class="noindent"> 
</p> 
<h4 class="likesubsectionHead"> 
<a id="x11-120001.1"> 
</a> Knowledge Base 3 
</h4> 
<!--l. 259--> 
<p class="noindent"> KB3, our third knowledge base, consists of five clauses: 
</p> 
<!--l. 261--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb20"> 
<a id="x11-12002r1"> 
</a> 
<span class="cmtt-10"> happy(vincent). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12004r2"> 
</a> 
<span class="cmtt-10"> listens2Music(butch). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12006r3"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(vincent):- 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12008r4"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(vincent), 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12010r5"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;happy(vincent). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12012r6"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(butch):- 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12014r7"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;happy(butch). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12016r8"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(butch):- 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12018r9"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(butch). 
</span> 
</div> 
<!--l. 272--> 
<p class="noindent"> There are two facts, 
<span class="verb"> 
<span class="cmtt-10"> happy(vincent) 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> listens2Music(butch) 
</span> 
</span> , and three rules. 
</p> 
<!--l. 276--> 
<p class="indent"> KB3 defines the same three predicates as KB2 (namely 
<span class="verb"> 
<span class="cmtt-10"> happy 
</span> 
</span> , 
<span class="verb"> 
<span class="cmtt-10"> listens2Music 
</span> 
</span> , and 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar 
</span> 
</span> ) but it defines them differently. In particular, the three rules that define the 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar 
</span> 
</span> predicate introduce some new ideas. First, note that the rule 
<a id="dx11-12019"> 
</a> 
</p> 
<div class="fancyvrb" id="fancyvrb21"> 
<a id="x11-12021r1"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(vincent):- 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12023r2"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(vincent), 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12025r3"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;happy(vincent). 
</span> 
</div> 
<!--l. 286--> 
<p class="noindent"> has 
<span class="cmti-10"> two 
</span> items in its body, or (to use the standard terminology) two goals. So, what exactly does this rule mean? The most important thing to note is the comma 
<span class="verb"> 
<span class="cmtt-10"> , 
</span> 
</span> that separates the goal 
<span class="verb"> 
<span class="cmtt-10"> listens2Music(vincent) 
</span> 
</span> and the goal 
<span class="verb"> 
<span class="cmtt-10"> happy(vincent) 
</span> 
</span> in the rule&#8217;s body. This is the way logical conjunction is expressed in Prolog (that is, the comma means 
<span class="cmti-10"> and 
</span> ). So this rule says: &#8220;Vincent plays air guitar if he listens to music 
<span class="cmti-10"> and 
</span> he is happy&#8221;. 
</p> 
<!--l. 295--> 
<p class="indent"> Thus, if we posed the query 
</p> 
<div class="fancyvrb" id="fancyvrb22"> 
<a id="x11-12027r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;playsAirGuitar(vincent). 
</span> 
</div> 
<!--l. 299--> 
<p class="noindent"> Prolog would answer no. This is because while KB3 contains 
<span class="verb"> 
<span class="cmtt-10"> happy(vincent) 
</span> 
</span> , it does 
<span class="cmti-10"> not 
</span> explicitly contain the information 
<span class="verb"> 
<span class="cmtt-10"> listens2Music(vincent) 
</span> 
</span> , and this fact cannot be deduced either. So KB3 only fulfils one of the two preconditions needed to establish 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar(vincent) 
</span> 
</span> , and our query fails. 
</p> 
<!--l. 305--> 
<p class="indent"> Incidentally, the spacing used in this rule is irrelevant. For example, we could have written it as 
</p> 
<div class="fancyvrb" id="fancyvrb23"> 
<a id="x11-12029r1"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(vincent):- 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(vincent), 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12031r2"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;happy(vincent). 
</span> 
</div> 
<!--l. 311--> 
<p class="noindent"> and it would have meant exactly the same thing. Prolog offers us a lot of freedom in the way we set out knowledge bases, and we can take advantage of this to keep our code readable. 
</p> 
<!--l. 315--> 
<p class="indent"> Next, note that KB3 contains two rules with 
<span class="cmti-10"> exactly 
</span> the same head, namely: 
</p> 
<div class="fancyvrb" id="fancyvrb24"> 
<a id="x11-12033r1"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(butch):- 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12035r2"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;happy(butch). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12037r3"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(butch):- 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12039r4"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(butch). 
</span> 
</div> 
<!--l. 323--> 
<p class="noindent"> This is a way of stating that Butch plays air guitar 
<span class="cmti-10"> either 
</span> if he listens to music, 
<span class="cmti-10"> or 
</span> if he is happy. That is, listing multiple rules with the same head is a way of expressing logical disjunction (that is, it is a way of saying 
<span class="cmti-10"> or 
</span> ). So if we posed the query 
</p> 
<div class="fancyvrb" id="fancyvrb25"> 
<a id="x11-12041r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;playsAirGuitar(butch). 
</span> 
</div> 
<!--l. 331--> 
<p class="noindent"> Prolog would answer yes. For although the first of these rules will not help (KB3 does not allow Prolog to conclude that 
<span class="verb"> 
<span class="cmtt-10"> happy(butch) 
</span> 
</span> ), KB3 
<span class="cmti-10"> does 
</span> contain 
<span class="verb"> 
<span class="cmtt-10"> listens2Music(butch) 
</span> 
</span> and this means Prolog can apply modus ponens using the rule 
</p> 
<div class="fancyvrb" id="fancyvrb26"> 
<a id="x11-12043r1"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(butch):- 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12045r2"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(butch). 
</span> 
</div> 
<!--l. 339--> 
<p class="noindent"> to conclude that 
<span class="verb"> 
<span class="cmtt-10"> playsAirGuitar(butch) 
</span> 
</span> . 
</p> 
<!--l. 341--> 
<p class="indent"> There is another way of expressing disjunction in Prolog. We could replace the pair of rules given above by the single rule 
<a id="dx11-12046"> 
</a> 
</p> 
<div class="fancyvrb" id="fancyvrb27"> 
<a id="x11-12048r1"> 
</a> 
<span class="cmtt-10"> playsAirGuitar(butch):- 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12050r2"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;happy(butch); 
</span> 
<br class="fancyvrb" /> 
<a id="x11-12052r3"> 
</a> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0; 
</span> 
<span class="cmtt-10"> &#x00A0;listens2Music(butch). 
</span> 
</div> 
<!--l. 349--> 
<p class="noindent"> That is, the semicolon 
<span class="verb"> 
<span class="cmtt-10"> ; 
</span> 
</span> is the Prolog symbol for 
<span class="cmti-10"> or 
</span> , so this single rule means exactly the same thing as the previous pair of rules. Is it better to use multiple rules or the semicolon? That depends. On the one hand, extensive use of semicolon can make Prolog code hard to read. On the other hand, the semicolon is more efficient as Prolog only has to deal with one rule. 
</p> 
<!--l. 356--> 
<p class="indent"> It should now be clear that Prolog has something to do with logic: after all, the 
<span class="verb"> 
<span class="cmtt-10"> :- 
</span> 
</span> means implication, the 
<span class="verb"> 
<span class="cmtt-10"> , 
</span> 
</span> means conjunction, and the 
<span class="verb"> 
<span class="cmtt-10"> ; 
</span> 
</span> means disjunction. (What about negation? That is a whole other story. We&#8217;ll be discussing it in Chapter&#x00A0; 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlch10"> 10 
<!--tex4ht:ref: CHAPTER10 --> 
</a> .) Moreover, we have seen that a standard logical proof rule (modus ponens) plays an important role in Prolog programming. So we are already beginning to understand why &#8220;Prolog&#8221; is short for &#8220;Programming with logic&#8221;. 
</p> 
<!--l. 367--> 
<p class="noindent"> 
</p> 
<h4 class="likesubsectionHead"> 
<a id="x11-130001.1"> 
</a> Knowledge Base 4 
</h4> 
<!--l. 369--> 
<p class="noindent"> Here is KB4, our fourth knowledge base: 
</p> 
<!--l. 371--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb28"> 
<a id="x11-13002r1"> 
</a> 
<span class="cmtt-10"> woman(mia). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-13004r2"> 
</a> 
<span class="cmtt-10"> woman(jody). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-13006r3"> 
</a> 
<span class="cmtt-10"> woman(yolanda). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-13008r4"> 
</a> 
<br class="fancyvrb" /> 
<a id="x11-13010r5"> 
</a> 
<span class="cmtt-10"> loves(vincent,mia). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-13012r6"> 
</a> 
<span class="cmtt-10"> loves(marsellus,mia). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-13014r7"> 
</a> 
<span class="cmtt-10"> loves(pumpkin,honey_bunny). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-13016r8"> 
</a> 
<span class="cmtt-10"> loves(honey_bunny,pumpkin). 
</span> 
</div> 
<!--l. 383--> 
<p class="indent"> Now, this is a pretty boring knowledge base. There are no rules, only a collection of facts. Ok, we are seeing a relation that has two names as arguments for the first time (namely the 
<span class="verb"> 
<span class="cmtt-10"> loves 
</span> 
</span> relation), but, let&#8217;s face it, that&#8217;s a rather predictable idea. 
</p> 
<!--l. 388--> 
<p class="indent"> No, the novelty this time lies not in the knowledge base, it lies in the queries we are going to pose. In particular, 
<span class="cmti-10"> for the first time we&#8217;re going to make use of 
</span> 
<span class="cmti-10"> variables 
</span> . Here&#8217;s an example: 
</p> 
<div class="fancyvrb" id="fancyvrb29"> 
<a id="x11-13018r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;woman(X). 
</span> 
</div> 
<!--l. 396--> 
<p class="indent"> The 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> is a variable (in fact, any word beginning with an upper-case letter is a Prolog variable, which is why we had to be careful to use lower-case initial letters in our earlier examples). Now a variable isn&#8217;t a name, rather it&#8217;s a 
<span class="cmti-10"> placeholder 
</span> for information. That is, this query asks Prolog: tell me which of the individuals you know about is a woman. 
</p> 
<!--l. 404--> 
<p class="indent"> Prolog answers this query by working its way through KB4, from top to bottom, trying to unify (or match) the expression 
<span class="verb"> 
<span class="cmtt-10"> woman(X) 
</span> 
</span> with the information KB4 contains. Now the first item in the knowledge base is 
<span class="verb"> 
<span class="cmtt-10"> woman(mia) 
</span> 
</span> . So, Prolog unifies 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> with 
<span class="verb"> 
<span class="cmtt-10"> mia 
</span> 
</span> , thus making the query agree perfectly with this first item. (Incidentally, there&#8217;s a lot of different terminology for this process: we can also say that Prolog instantiates 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> to 
<span class="verb"> 
<span class="cmtt-10"> mia 
</span> 
</span> , or that it binds 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> to 
<span class="verb"> 
<span class="cmtt-10"> mia 
</span> 
</span> .) Prolog then reports back to us as follows: 
</p> 
<div class="fancyvrb" id="fancyvrb30"> 
<a id="x11-13020r1"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;mia 
</span> 
</div> 
<!--l. 416--> 
<p class="noindent"> That is, it not only says that there is information about at least one woman in KB4, it actually tells us who she is. It didn&#8217;t just say yes, it actually gave us the variable binding (or variable instantiation) that led to success. 
</p> 
<!--l. 421--> 
<p class="indent"> But that&#8217;s not the end of the story. The whole point of variables is that they can stand for, or unify with, different things. And there is information about other women in the knowledge base. We can access this information by typing a semicolon: 
</p> 
<div class="fancyvrb" id="fancyvrb31"> 
<a id="x11-13022r1"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;mia 
</span> 
<span class="cmtt-10"> &#x00A0;; 
</span> 
</div> 
<!--l. 429--> 
<p class="noindent"> Remember that 
<span class="verb"> 
<span class="cmtt-10"> ; 
</span> 
</span> means 
<span class="cmti-10"> or 
</span> , so this query means: 
<span class="cmti-10"> are there any alternatives 
</span> ? So Prolog begins working through the knowledge base again (it remembers where it got up to last time and starts from there) and sees that if it unifies 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> with 
<span class="verb"> 
<span class="cmtt-10"> jody 
</span> 
</span> , then the query agrees perfectly with the second entry in the knowledge base. So it responds: 
</p> 
<div class="fancyvrb" id="fancyvrb32"> 
<a id="x11-13024r1"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;mia 
</span> 
<span class="cmtt-10"> &#x00A0;; 
</span> 
<br class="fancyvrb" /> 
<a id="x11-13026r2"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;jody 
</span> 
</div> 
<!--l. 439--> 
<p class="noindent"> It&#8217;s telling us that there is information about a second woman in KB4, and (once again) it actually gives us the value that led to success. And of course, if we press 
<span class="verb"> 
<span class="cmtt-10"> ; 
</span> 
</span> a second time, Prolog returns the answer 
</p> 
<div class="fancyvrb" id="fancyvrb33"> 
<a id="x11-13028r1"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;mia 
</span> 
<span class="cmtt-10"> &#x00A0;; 
</span> 
<br class="fancyvrb" /> 
<a id="x11-13030r2"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;jody 
</span> 
<span class="cmtt-10"> &#x00A0;; 
</span> 
<br class="fancyvrb" /> 
<a id="x11-13032r3"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;yolanda 
</span> 
</div> 
<!--l. 450--> 
<p class="indent"> But what happens if we press 
<span class="verb"> 
<span class="cmtt-10"> ; 
</span> 
</span> a 
<span class="cmti-10"> third 
</span> time? Prolog responds no. No other unifications are possible. There are no other facts starting with the symbol 
<span class="verb"> 
<span class="cmtt-10"> woman 
</span> 
</span> . The last four entries in the knowledge base concern the 
<span class="verb"> 
<span class="cmtt-10"> love 
</span> 
</span> relation, and there is no way that such entries can be unified with a query of the form 
<span class="verb"> 
<span class="cmtt-10"> woman(X) 
</span> 
</span> . 
</p> 
<!--l. 456--> 
<p class="indent"> Let&#8217;s try a more complicated query, namely 
</p> 
<div class="fancyvrb" id="fancyvrb34"> 
<a id="x11-13034r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;loves(marsellus,X), 
</span> 
<span class="cmtt-10"> &#x00A0;woman(X). 
</span> 
</div> 
<!--l. 460--> 
<p class="noindent"> Now, remember that 
<span class="verb"> 
<span class="cmtt-10"> , 
</span> 
</span> means 
<span class="cmti-10"> and 
</span> , so this query says: 
<span class="cmti-10"> is there any individual 
</span> 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> 
<span class="cmti-10"> such that 
</span> 
<span class="cmti-10"> Marsellus loves 
</span> 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> 
<span class="cmti-10"> and 
</span> 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> 
<span class="cmti-10"> is a woman 
</span> ? If you look at the knowledge base you&#8217;ll see that there is: Mia is a woman (fact 1) and Marsellus loves Mia (fact 5). And in fact, Prolog is capable of working this out. That is, it can search through the knowledge base and work out that if it unifies 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> with Mia, then both conjuncts of the query are satisfied (we&#8217;ll learn in the following chapter how Prolog does this). So Prolog returns the answer 
</p> 
<div class="fancyvrb" id="fancyvrb35"> 
<a id="x11-13036r1"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;mia 
</span> 
</div> 
<!--l. 475--> 
<p class="indent"> The business of unifying variables with information in the knowledge base is the heart of Prolog. As we&#8217;ll learn, there are many interesting ideas in Prolog &#8212; but when you get right down to it, it&#8217;s Prolog&#8217;s ability to perform unification and return the values of the variable bindings to us that is crucial. 
</p> 
<!--l. 483--> 
<p class="noindent"> 
</p> 
<h4 class="likesubsectionHead"> 
<a id="x11-140001.1"> 
</a> Knowledge Base 5 
</h4> 
<!--l. 486--> 
<p class="noindent"> Well, we&#8217;ve introduced variables, but so far we&#8217;ve only used them in queries. But variables not only 
<span class="cmti-10"> can 
</span> be used in knowledge bases, it&#8217;s only when we start to do so that we can write truly interesting programs. Here&#8217;s a simple example, the knowledge base KB5: 
</p> 
<!--l. 492--> 
<p class="indent"> 
</p> 
<div class="fancyvrb" id="fancyvrb36"> 
<a id="x11-14002r1"> 
</a> 
<span class="cmtt-10"> loves(vincent,mia). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-14004r2"> 
</a> 
<span class="cmtt-10"> loves(marsellus,mia). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-14006r3"> 
</a> 
<span class="cmtt-10"> loves(pumpkin,honey_bunny). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-14008r4"> 
</a> 
<span class="cmtt-10"> loves(honey_bunny,pumpkin). 
</span> 
<br class="fancyvrb" /> 
<a id="x11-14010r5"> 
</a> 
<br class="fancyvrb" /> 
<a id="x11-14012r6"> 
</a> 
<span class="cmtt-10"> jealous(X,Y):- 
</span> 
<span class="cmtt-10"> &#x00A0;loves(X,Z), 
</span> 
<span class="cmtt-10"> &#x00A0;loves(Y,Z). 
</span> 
</div> 
<!--l. 502--> 
<p class="indent"> KB5 contains four facts about the 
<span class="verb"> 
<span class="cmtt-10"> loves 
</span> 
</span> relation and one rule. (Incidentally, the blank line between the facts and the rule has no meaning: it&#8217;s simply there to increase the readability. As we said earlier, Prolog gives us a great deal of freedom in the way we format knowledge bases.) But this rule is by far the most interesting one we have seen so far: it contains three variables (note that 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> , 
<span class="verb"> 
<span class="cmtt-10"> Y 
</span> 
</span> , and 
<span class="verb"> 
<span class="cmtt-10"> Z 
</span> 
</span> are all upper-case letters). What does it say? 
</p> 
<!--l. 510--> 
<p class="indent"> In effect, it is defining a concept of jealousy. It says that an individual 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> will be jealous of an individual 
<span class="verb"> 
<span class="cmtt-10"> Y 
</span> 
</span> if there is some individual 
<span class="verb"> 
<span class="cmtt-10"> Z 
</span> 
</span> that 
<span class="verb"> 
<span class="cmtt-10"> X 
</span> 
</span> loves, and 
<span class="verb"> 
<span class="cmtt-10"> Y 
</span> 
</span> loves that same individual 
<span class="verb"> 
<span class="cmtt-10"> Z 
</span> 
</span> too. (Ok, so jealousy isn&#8217;t as straightforward as this in the real world.) The key thing to note is that this is a 
<span class="cmti-10"> general 
</span> statement: it is not stated in terms of 
<span class="verb"> 
<span class="cmtt-10"> mia 
</span> 
</span> , or 
<span class="verb"> 
<span class="cmtt-10"> pumpkin 
</span> 
</span> , or anyone in particular &#8212; it&#8217;s a conditional statement about 
<span class="cmti-10"> everybody 
</span> in our little world. 
</p> 
<!--l. 519--> 
<p class="indent"> Suppose we pose the query: 
</p> 
<div class="fancyvrb" id="fancyvrb37"> 
<a id="x11-14014r1"> 
</a> 
<span class="cmtt-10"> ?- 
</span> 
<span class="cmtt-10"> &#x00A0;jealous(marsellus,W). 
</span> 
</div> 
<!--l. 525--> 
<p class="noindent"> This query asks: can you find an individual 
<span class="verb"> 
<span class="cmtt-10"> W 
</span> 
</span> such that Marsellus is jealous of 
<span class="verb"> 
<span class="cmtt-10"> W 
</span> 
</span> ? Vincent is such an individual. If you check the definition of jealousy, you&#8217;ll see that Marsellus must be jealous of Vincent, because they both love the same woman, namely Mia. So Prolog will return the value 
</p> 
<div class="fancyvrb" id="fancyvrb38"> 
<a id="x11-14016r1"> 
</a> 
<span class="cmtt-10"> W 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;vincent 
</span> 
</div> 
<!--l. 536--> 
<p class="indent"> Now some questions for 
<span class="cmti-10"> you 
</span> . First, are there any other jealous people in KB5? Furthermore, suppose we wanted Prolog to tell us about all the jealous people: what query would we pose? Do any of the answers surprise you? Do any seem silly? 
</p> 
<!--l. 543--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse5"> next 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse1"> front 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse4"> up 
</a> ] 
</p> 
</div> 
<!--l. 543--> 
<p class="indent"> 
<a id="taillpn-htmlse1"> 
</a> 
</p> 