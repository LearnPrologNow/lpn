
<!--l. 608--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse26"> prev 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse26"> prev-tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse23"> tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlch7"> up 
</a> ] 
</p> 
</div> 
<h3 class="sectionHead"> 
<span class="titlemark"> 6.4 
</span> 
<a id="x43-600006.4"> 
</a> Practical Session 
</h3> 
<!--l. 612--> 
<p class="noindent"> The purpose of Practical Session 6 is to help you get more experience with list manipulation. We first suggest some traces for you to carry out, and then some programming exercises. 
</p> 
<!--l. 616--> 
<p class="indent"> The following traces will help you get to grips with the predicates discussed in the text: 
</p> 
<!--l. 619--> 
<p class="indent"> 
</p> 
<ol class="enumerate1"> 
<li class="enumerate" id="x43-60002x1"> Carry out traces of 
<span class="verb"> 
<span class="cmtt-10"> append/3 
</span> 
</span> with the first two arguments instantiated, and the third argument uninstantiated. For example, 
<span class="verb"> 
<span class="cmtt-10"> append([a,b,c],[[],[2,3],b],X) 
</span> 
</span> Make sure the basic pattern is clear. 
</li> 
<li class="enumerate" id="x43-60004x2"> Next, carry out traces on 
<span class="verb"> 
<span class="cmtt-10"> append/3 
</span> 
</span> as used to split up a list, that is, with the first two arguments given as variables, and the last argument instantiated. For example, 
<span class="verb"> 
<span class="cmtt-10"> append(L,R,[foo,wee,blup]). 
</span> 
</span> 
</li> 
<li class="enumerate" id="x43-60006x3"> Carry out some traces on 
<span class="verb"> 
<span class="cmtt-10"> prefix/2 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> suffix/2 
</span> 
</span> . Why does 
<span class="verb"> 
<span class="cmtt-10"> prefix/2 
</span> 
</span> find shorter lists first, and 
<span class="verb"> 
<span class="cmtt-10"> suffix/2 
</span> 
</span> longer lists first? 
</li> 
<li class="enumerate" id="x43-60008x4"> Carry out some traces on 
<span class="verb"> 
<span class="cmtt-10"> sublist/2 
</span> 
</span> . As we said in the text, via backtracking this predicate generates all possible sublists, but as you&#8217;ll see, it generates several sublists more than once. Do you understand why? 
</li> 
<li class="enumerate" id="x43-60010x5"> Carry out traces on both 
<span class="verb"> 
<span class="cmtt-10"> naiverev/2 
</span> 
</span> and 
<span class="verb"> 
<span class="cmtt-10"> rev/2 
</span> 
</span> , and compare their behaviour. 
</li> 
</ol> 
<!--l. 645--> 
<p class="indent"> Now for some programming work: 
</p> 
<!--l. 647--> 
<p class="indent"> 
</p> 
<ol class="enumerate1"> 
<li class="enumerate" id="x43-60012x1"> It is possible to write a one line definition of the 
<span class="verb"> 
<span class="cmtt-10"> member 
</span> 
</span> predicate by making use of 
<span class="verb"> 
<span class="cmtt-10"> append/3 
</span> 
</span> . Do so. How does this new version of 
<span class="verb"> 
<span class="cmtt-10"> member 
</span> 
</span> compare in efficiency with the standard one? 
</li> 
<li class="enumerate" id="x43-60014x2"> Write a predicate 
<span class="verb"> 
<span class="cmtt-10"> set(InList,OutList) 
</span> 
</span> which takes as input an arbitrary list, and returns a list in which each element of the input list appears only once. For example, the query 
<div class="fancyvrb" id="fancyvrb302"> 
<a id="x43-60016r1"> 
</a> 
<br class="fancyvrb" /> 
<a id="x43-60018r2"> 
</a> 
<span class="cmtt-10"> set([2,2,foo,1,foo, 
</span> 
<span class="cmtt-10"> &#x00A0;[],[]],X). 
</span> 
</div> 
<!--l. 660--> 
<p class="noindent"> should yield the result 
</p> 
<div class="fancyvrb" id="fancyvrb303"> 
<a id="x43-60020r1"> 
</a> 
<br class="fancyvrb" /> 
<a id="x43-60022r2"> 
</a> 
<span class="cmtt-10"> X 
</span> 
<span class="cmtt-10"> &#x00A0;= 
</span> 
<span class="cmtt-10"> &#x00A0;[2,foo,1,[]]. 
</span> 
</div> 
<!--l. 667--> 
<p class="noindent"> (Hint: use the 
<span class="verb"> 
<span class="cmtt-10"> member 
</span> 
</span> predicate to test for repetitions of items you have already found.) 
</p> 
</li> 
<li class="enumerate" id="x43-60024x3"> We &#8216;flatten&#8217; a list by removing all the square brackets around any lists it contains as elements, and around any lists that its elements contain as elements, and so on, for all nested lists. For example, when we flatten the list 
<div class="fancyvrb" id="fancyvrb304"> 
<a id="x43-60026r1"> 
</a> 
<span class="cmtt-10"> [a,b,[c,d],[[1,2]],foo] 
</span> 
</div> 
<!--l. 678--> 
<p class="noindent"> we get the list 
</p> 
<div class="fancyvrb" id="fancyvrb305"> 
<a id="x43-60028r1"> 
</a> 
<span class="cmtt-10"> [a,b,c,d,1,2,foo] 
</span> 
</div> 
<!--l. 683--> 
<p class="noindent"> and when we flatten the list 
</p> 
<div class="fancyvrb" id="fancyvrb306"> 
<a id="x43-60030r1"> 
</a> 
<span class="cmtt-10"> [a,b,[[[[[[[c,d]]]]]]],[[1,2]],foo,[]] 
</span> 
</div> 
<!--l. 687--> 
<p class="noindent"> we also get 
</p> 
<div class="fancyvrb" id="fancyvrb307"> 
<a id="x43-60032r1"> 
</a> 
<span class="cmtt-10"> [a,b,c,d,1,2,foo]. 
</span> 
</div> 
<!--l. 691--> 
<p class="noindent"> Write a predicate 
<span class="verb"> 
<span class="cmtt-10"> flatten(List,Flat) 
</span> 
</span> that holds when the first argument 
<span class="verb"> 
<span class="cmtt-10"> List 
</span> 
</span> flattens to the second argument 
<span class="verb"> 
<span class="cmtt-10"> Flat 
</span> 
</span> . This should be done without making use of 
<span class="verb"> 
<span class="cmtt-10"> append/3 
</span> 
</span> . 
</p> 
</li> 
</ol> 
<!--l. 698--> 
<p class="indent"> Ok, we&#8217;re now halfway through the book. And flattening a list is the Pons Asinorum of Prolog programming. Did you cross it ok? If so, great. Time to move on. 
</p> 
<!--l. 2--> 
<div class="crosslinks"> 
<p class="noindent"> [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse26"> prev 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse26"> prev-tail 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlse27"> front 
</a> ] [ 
<a href="lpnpage.php?pagetype=html&pageid=lpn-htmlch7"> up 
</a> ] 
</p> 
</div> 
<!--l. 2--> 
<p class="indent"> 
<a id="taillpn-htmlse27"> 
</a> 
</p> 